
> graceful-books@0.1.0 test
> vitest src/services/recurringInvoiceService.test.ts


[7m[1m[34m DEV [39m[22m[27m [34mv1.6.1[39m [90mC:/Users/Admin/graceful_books[39m

 [33m‚ùØ[39m src/services/recurringInvoiceService.test.ts [2m ([22m[2m34 tests[22m [2m|[22m [31m5 failed[39m[2m)[22m[33m 326[2mms[22m[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould calculate next monthly date[39m
[31m     ‚Üí expected +0 to be 1 // Object.is equality[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould return null when all occurrences exhausted[39m
[31m     ‚Üí expected 2026-06-01T00:00:00.000Z to be null[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEnd-of-Month Recurrence Scenarios[2m > [22mshould generate correct dates for monthly billing starting on Jan 31[39m
[31m     ‚Üí expected 31 to be 28 // Object.is equality[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEnd-of-Month Recurrence Scenarios[2m > [22mshould handle quarterly billing on the 31st[39m
[31m     ‚Üí expected 31 to be 30 // Object.is equality[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEdge Cases[2m > [22mshould handle start date in the past[39m
[31m     ‚Üí expected 1577836800000 to be greater than 1577836800000[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1m[7m Failed Tests 5 [27m[22m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould calculate next monthly date
[31m[1mAssertionError[22m: expected +0 to be 1 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 1[39m
[31m+ 0[39m

[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m170:40[22m[39m
    [90m168| [39m      [35mif[39m (nextDate) {
    [90m169| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m15[39m)[33m;[39m
    [90m170| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetUTCMonth[39m())[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m [90m// February[39m
    [90m   | [39m                                       [31m^[39m
    [90m171| [39m      }
    [90m172| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/5]‚éØ[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould return null when all occurrences exhausted
[31m[1mAssertionError[22m: expected 2026-06-01T00:00:00.000Z to be null[39m
[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m186:24[22m[39m
    [90m184| [39m      [35mconst[39m nextDate [33m=[39m [34mcalculateNextGenerationDate[39m(rule[33m,[39m currentDate[33m,[39m ‚Ä¶
    [90m185| [39m
    [90m186| [39m      [34mexpect[39m(nextDate)[33m.[39m[34mtoBeNull[39m()[33m;[39m
    [90m   | [39m                       [31m^[39m
    [90m187| [39m    })[33m;[39m
    [90m188| [39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/5]‚éØ[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEnd-of-Month Recurrence Scenarios[2m > [22mshould generate correct dates for monthly billing starting on Jan 31
[31m[1mAssertionError[22m: expected 31 to be 28 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 28[39m
[31m+ 31[39m

[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m282:37[22m[39m
    [90m280| [39m      [90m// Verify dates adjust for month lengths (RRule returns UTC date[39m‚Ä¶
    [90m281| [39m      [34mexpect[39m(dates[[34m0[39m][33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m31[39m)[33m;[39m [90m// Jan 31[39m
    [90m282| [39m      [34mexpect[39m(dates[[34m1[39m][33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m28[39m)[33m;[39m [90m// Feb 28 (non-leap)[39m
    [90m   | [39m                                    [31m^[39m
    [90m283| [39m      [34mexpect[39m(dates[[34m2[39m][33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m31[39m)[33m;[39m [90m// Mar 31[39m
    [90m284| [39m      [34mexpect[39m(dates[[34m3[39m][33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m30[39m)[33m;[39m [90m// Apr 30[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/5]‚éØ[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEnd-of-Month Recurrence Scenarios[2m > [22mshould handle quarterly billing on the 31st
[31m[1mAssertionError[22m: expected 31 to be 30 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 30[39m
[31m+ 31[39m

[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m305:37[22m[39m
    [90m303| [39m
    [90m304| [39m      [34mexpect[39m(dates[[34m0[39m][33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m31[39m)[33m;[39m [90m// Jan 31[39m
    [90m305| [39m      [34mexpect[39m(dates[[34m1[39m][33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m30[39m)[33m;[39m [90m// Apr 30 (no 31st)[39m
    [90m   | [39m                                    [31m^[39m
    [90m306| [39m      [34mexpect[39m(dates[[34m2[39m][33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m31[39m)[33m;[39m [90m// Jul 31[39m
    [90m307| [39m      [34mexpect[39m(dates[[34m3[39m][33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m31[39m)[33m;[39m [90m// Oct 31[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[4/5]‚éØ[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEdge Cases[2m > [22mshould handle start date in the past
[31m[1mAssertionError[22m: expected 1577836800000 to be greater than 1577836800000[39m
[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m402:36[22m[39m
    [90m400| [39m      [34mexpect[39m(nextDate)[33m.[39mnot[33m.[39m[34mtoBeNull[39m()[33m;[39m
    [90m401| [39m      [35mif[39m (nextDate) {
    [90m402| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetTime[39m())[33m.[39m[34mtoBeGreaterThan[39m(pastDate[33m.[39m[34mgetTime[39m())[33m;[39m
    [90m   | [39m                                   [31m^[39m
    [90m403| [39m      }
    [90m404| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[5/5]‚éØ[22m[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m5 failed[39m[22m[2m | [22m[1m[32m29 passed[39m[22m[90m (34)[39m
[2m   Start at [22m 19:17:11
[2m   Duration [22m 57.55s[2m (transform 2.65s, setup 18.20s, collect 4.04s, tests 326ms, environment 22.98s, prepare 3.45s)[22m


[1m[7m[31m FAIL [39m[27m[22m[31m Tests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/services/categorization.service.test.ts[22m [34mx1[39m


[2m Test Files [22m [2mno tests[22m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 19:21:10
[2m   Duration [22m 0ms


[1m[7m[32m PASS [39m[27m[22m[32m Waiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x1[39m
[2K[1A[2K[G       [90mrerun x1[39m
[2K[1A[2K[G       [2m[90mrerun x1[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/services/recurringInvoiceService.ts[22m [34mx1[39m

 [33m‚ùØ[39m src/services/recurringInvoiceService.test.ts [2m ([22m[2m34 tests[22m [2m|[22m [31m3 failed[39m[2m)[22m[33m 373[2mms[22m[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould calculate next monthly date[39m
[31m     ‚Üí expected +0 to be 1 // Object.is equality[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould return null when all occurrences exhausted[39m
[31m     ‚Üí expected 2026-06-01T00:00:00.000Z to be null[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEdge Cases[2m > [22mshould handle start date in the past[39m
[31m     ‚Üí expected 1577836800000 to be greater than 1577836800000[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1m[7m Failed Tests 3 [27m[22m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould calculate next monthly date
[31m[1mAssertionError[22m: expected +0 to be 1 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 1[39m
[31m+ 0[39m

[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m170:40[22m[39m
    [90m168| [39m      [35mif[39m (nextDate) {
    [90m169| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m15[39m)[33m;[39m
    [90m170| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetUTCMonth[39m())[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m [90m// February[39m
    [90m   | [39m                                       [31m^[39m
    [90m171| [39m      }
    [90m172| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/3]‚éØ[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould return null when all occurrences exhausted
[31m[1mAssertionError[22m: expected 2026-06-01T00:00:00.000Z to be null[39m
[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m186:24[22m[39m
    [90m184| [39m      [35mconst[39m nextDate [33m=[39m [34mcalculateNextGenerationDate[39m(rule[33m,[39m currentDate[33m,[39m ‚Ä¶
    [90m185| [39m
    [90m186| [39m      [34mexpect[39m(nextDate)[33m.[39m[34mtoBeNull[39m()[33m;[39m
    [90m   | [39m                       [31m^[39m
    [90m187| [39m    })[33m;[39m
    [90m188| [39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/3]‚éØ[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEdge Cases[2m > [22mshould handle start date in the past
[31m[1mAssertionError[22m: expected 1577836800000 to be greater than 1577836800000[39m
[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m402:36[22m[39m
    [90m400| [39m      [34mexpect[39m(nextDate)[33m.[39mnot[33m.[39m[34mtoBeNull[39m()[33m;[39m
    [90m401| [39m      [35mif[39m (nextDate) {
    [90m402| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetTime[39m())[33m.[39m[34mtoBeGreaterThan[39m(pastDate[33m.[39m[34mgetTime[39m())[33m;[39m
    [90m   | [39m                                   [31m^[39m
    [90m403| [39m      }
    [90m404| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[3/3]‚éØ[22m[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m31 passed[39m[22m[90m (34)[39m
[2m   Start at [22m 19:21:53
[2m   Duration [22m 24.43s


[1m[7m[31m FAIL [39m[27m[22m[31m Tests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x1[39m
[2K[1A[2K[G       [90mrerun x1[39m
[2K[1A[2K[G       [2m[90mrerun x1[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/services/recurringInvoiceService.ts[22m [34mx2[39m

 [33m‚ùØ[39m src/services/recurringInvoiceService.test.ts [2m ([22m[2m34 tests[22m [2m|[22m [31m2 failed[39m[2m)[22m[33m 425[2mms[22m[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould calculate next monthly date[39m
[31m     ‚Üí expected +0 to be 1 // Object.is equality[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEdge Cases[2m > [22mshould handle start date in the past[39m
[31m     ‚Üí expected 1577836800000 to be greater than 1577836800000[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1m[7m Failed Tests 2 [27m[22m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould calculate next monthly date
[31m[1mAssertionError[22m: expected +0 to be 1 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 1[39m
[31m+ 0[39m

[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m170:40[22m[39m
    [90m168| [39m      [35mif[39m (nextDate) {
    [90m169| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m15[39m)[33m;[39m
    [90m170| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetUTCMonth[39m())[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m [90m// February[39m
    [90m   | [39m                                       [31m^[39m
    [90m171| [39m      }
    [90m172| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/2]‚éØ[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEdge Cases[2m > [22mshould handle start date in the past
[31m[1mAssertionError[22m: expected 1577836800000 to be greater than 1577836800000[39m
[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m402:36[22m[39m
    [90m400| [39m      [34mexpect[39m(nextDate)[33m.[39mnot[33m.[39m[34mtoBeNull[39m()[33m;[39m
    [90m401| [39m      [35mif[39m (nextDate) {
    [90m402| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetTime[39m())[33m.[39m[34mtoBeGreaterThan[39m(pastDate[33m.[39m[34mgetTime[39m())[33m;[39m
    [90m   | [39m                                   [31m^[39m
    [90m403| [39m      }
    [90m404| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/2]‚éØ[22m[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m32 passed[39m[22m[90m (34)[39m
[2m   Start at [22m 19:23:27
[2m   Duration [22m 23.75s


[1m[7m[31m FAIL [39m[27m[22m[31m Tests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x2[39m
[2K[1A[2K[G       [90mrerun x2[39m
[2K[1A[2K[G       [2m[90mrerun x2[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/services/recurringInvoiceService.ts[22m [34mx3[39m

 [33m‚ùØ[39m src/services/recurringInvoiceService.test.ts [2m ([22m[2m34 tests[22m [2m|[22m [31m2 failed[39m[2m)[22m[90m 235[2mms[22m[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould calculate next monthly date[39m
[31m     ‚Üí expected +0 to be 1 // Object.is equality[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEdge Cases[2m > [22mshould handle start date in the past[39m
[31m     ‚Üí expected 1577836800000 to be greater than 1577836800000[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1m[7m Failed Tests 2 [27m[22m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould calculate next monthly date
[31m[1mAssertionError[22m: expected +0 to be 1 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 1[39m
[31m+ 0[39m

[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m170:40[22m[39m
    [90m168| [39m      [35mif[39m (nextDate) {
    [90m169| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m15[39m)[33m;[39m
    [90m170| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetUTCMonth[39m())[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m [90m// February[39m
    [90m   | [39m                                       [31m^[39m
    [90m171| [39m      }
    [90m172| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/2]‚éØ[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEdge Cases[2m > [22mshould handle start date in the past
[31m[1mAssertionError[22m: expected 1577836800000 to be greater than 1577836800000[39m
[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m402:36[22m[39m
    [90m400| [39m      [34mexpect[39m(nextDate)[33m.[39mnot[33m.[39m[34mtoBeNull[39m()[33m;[39m
    [90m401| [39m      [35mif[39m (nextDate) {
    [90m402| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetTime[39m())[33m.[39m[34mtoBeGreaterThan[39m(pastDate[33m.[39m[34mgetTime[39m())[33m;[39m
    [90m   | [39m                                   [31m^[39m
    [90m403| [39m      }
    [90m404| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/2]‚éØ[22m[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m32 passed[39m[22m[90m (34)[39m
[2m   Start at [22m 19:31:42
[2m   Duration [22m 23.79s


[1m[7m[31m FAIL [39m[27m[22m[31m Tests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x3[39m
[2K[1A[2K[G       [90mrerun x3[39m
[2K[1A[2K[G       [2m[90mrerun x3[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/services/recurringInvoiceService.ts[22m [34mx4[39m

 [33m‚ùØ[39m src/services/recurringInvoiceService.test.ts [2m ([22m[2m34 tests[22m [2m|[22m [31m2 failed[39m[2m)[22m[33m 349[2mms[22m[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould calculate next monthly date[39m
[31m     ‚Üí expected +0 to be 1 // Object.is equality[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEdge Cases[2m > [22mshould handle start date in the past[39m
[31m     ‚Üí expected 1577836800000 to be greater than 1577836800000[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1m[7m Failed Tests 2 [27m[22m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould calculate next monthly date
[31m[1mAssertionError[22m: expected +0 to be 1 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 1[39m
[31m+ 0[39m

[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m170:40[22m[39m
    [90m168| [39m      [35mif[39m (nextDate) {
    [90m169| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m15[39m)[33m;[39m
    [90m170| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetUTCMonth[39m())[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m [90m// February[39m
    [90m   | [39m                                       [31m^[39m
    [90m171| [39m      }
    [90m172| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/2]‚éØ[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEdge Cases[2m > [22mshould handle start date in the past
[31m[1mAssertionError[22m: expected 1577836800000 to be greater than 1577836800000[39m
[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m402:36[22m[39m
    [90m400| [39m      [34mexpect[39m(nextDate)[33m.[39mnot[33m.[39m[34mtoBeNull[39m()[33m;[39m
    [90m401| [39m      [35mif[39m (nextDate) {
    [90m402| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetTime[39m())[33m.[39m[34mtoBeGreaterThan[39m(pastDate[33m.[39m[34mgetTime[39m())[33m;[39m
    [90m   | [39m                                   [31m^[39m
    [90m403| [39m      }
    [90m404| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/2]‚éØ[22m[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m32 passed[39m[22m[90m (34)[39m
[2m   Start at [22m 19:37:26
[2m   Duration [22m 19.39s


[1m[7m[31m FAIL [39m[27m[22m[31m Tests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x4[39m
[2K[1A[2K[G       [90mrerun x4[39m
[2K[1A[2K[G       [2m[90mrerun x4[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/services/recurringInvoiceService.ts[22m [34mx5[39m

 [33m‚ùØ[39m src/services/recurringInvoiceService.test.ts [2m ([22m[2m34 tests[22m [2m|[22m [31m2 failed[39m[2m)[22m[33m 364[2mms[22m[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould calculate next monthly date[39m
[31m     ‚Üí expected +0 to be 1 // Object.is equality[39m
[31m   [33m‚ùØ[31m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEdge Cases[2m > [22mshould handle start date in the past[39m
[31m     ‚Üí expected 1577836800000 to be greater than 1577836800000[39m

[31m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1m[7m Failed Tests 2 [27m[22m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mcalculateNextGenerationDate[2m > [22mshould calculate next monthly date
[31m[1mAssertionError[22m: expected +0 to be 1 // Object.is equality[39m

[32m- Expected[39m
[31m+ Received[39m

[32m- 1[39m
[31m+ 0[39m

[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m170:40[22m[39m
    [90m168| [39m      [35mif[39m (nextDate) {
    [90m169| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetUTCDate[39m())[33m.[39m[34mtoBe[39m([34m15[39m)[33m;[39m
    [90m170| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetUTCMonth[39m())[33m.[39m[34mtoBe[39m([34m1[39m)[33m;[39m [90m// February[39m
    [90m   | [39m                                       [31m^[39m
    [90m171| [39m      }
    [90m172| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/2]‚éØ[22m[39m

[31m[1m[7m FAIL [27m[22m[39m src/services/recurringInvoiceService.test.ts[2m > [22mRecurring Invoice Generation Service[2m > [22mEdge Cases[2m > [22mshould handle start date in the past
[31m[1mAssertionError[22m: expected 1577836800000 to be greater than 1577836800000[39m
[36m [2m‚ùØ[22m src/services/recurringInvoiceService.test.ts:[2m402:36[22m[39m
    [90m400| [39m      [34mexpect[39m(nextDate)[33m.[39mnot[33m.[39m[34mtoBeNull[39m()[33m;[39m
    [90m401| [39m      [35mif[39m (nextDate) {
    [90m402| [39m        [34mexpect[39m(nextDate[33m.[39m[34mgetTime[39m())[33m.[39m[34mtoBeGreaterThan[39m(pastDate[33m.[39m[34mgetTime[39m())[33m;[39m
    [90m   | [39m                                   [31m^[39m
    [90m403| [39m      }
    [90m404| [39m    })[33m;[39m

[31m[2m‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[2/2]‚éØ[22m[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m32 passed[39m[22m[90m (34)[39m
[2m   Start at [22m 19:38:31
[2m   Duration [22m 23.11s


[1m[7m[31m FAIL [39m[27m[22m[31m Tests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x5[39m
[2K[1A[2K[G       [90mrerun x5[39m
[2K[1A[2K[G       [2m[90mrerun x5[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/services/categorization.service.test.ts[22m [34mx2[39m


[2m Test Files [22m [2mno tests[22m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 19:40:22
[2m   Duration [22m 0ms


[1m[7m[32m PASS [39m[27m[22m[32m Waiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x2[39m
[2K[1A[2K[G       [90mrerun x2[39m
[2K[1A[2K[G       [2m[90mrerun x2[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/services/categorization.service.test.ts[22m [34mx3[39m


[2m Test Files [22m [2mno tests[22m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 19:47:22
[2m   Duration [22m 0ms


[1m[7m[32m PASS [39m[27m[22m[32m Waiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x3[39m
[2K[1A[2K[G       [90mrerun x3[39m
[2K[1A[2K[G       [2m[90mrerun x3[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/services/recurringInvoiceService.ts[22m [34mx6[39m

 [32m‚úì[39m src/services/recurringInvoiceService.test.ts [2m ([22m[2m34 tests[22m[2m)[22m[90m 142[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m34 passed[39m[22m[90m (34)[39m
[2m   Start at [22m 19:58:31
[2m   Duration [22m 18.31s


[1m[7m[32m PASS [39m[27m[22m[32m Waiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x6[39m
[2K[1A[2K[G       [90mrerun x6[39m
[2K[1A[2K[G       [2m[90mrerun x6[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/services/categorization.service.test.ts[22m [34mx4[39m


[2m Test Files [22m [2mno tests[22m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 20:01:24
[2m   Duration [22m 0ms


[1m[7m[32m PASS [39m[27m[22m[32m Waiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x4[39m
[2K[1A[2K[G       [90mrerun x4[39m
[2K[1A[2K[G       [2m[90mrerun x4[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/components/vendors/VendorCard.test.tsx[22m [34mx1[39m


[2m Test Files [22m [2mno tests[22m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 08:01:01
[2m   Duration [22m 0ms


[1m[7m[32m PASS [39m[27m[22m[32m Waiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x1[39m
[2K[1A[2K[G       [90mrerun x1[39m
[2K[1A[2K[G       [2m[90mrerun x1[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/components/audit/AuditLogTimeline.test.tsx[22m [34mx1[39m


[2m Test Files [22m [2mno tests[22m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 08:01:44
[2m   Duration [22m 0ms


[1m[7m[32m PASS [39m[27m[22m[32m Waiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x1[39m
[2K[1A[2K[G       [90mrerun x1[39m
[2K[1A[2K[G       [2m[90mrerun x1[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/components/wizards/CoaWizard.test.tsx[22m [34mx1[39m


[2m Test Files [22m [2mno tests[22m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 08:06:22
[2m   Duration [22m 0ms


[1m[7m[32m PASS [39m[27m[22m[32m Waiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x1[39m
[2K[1A[2K[G       [90mrerun x1[39m
[2K[1A[2K[G       [2m[90mrerun x1[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/components/vendors/VendorCard.test.tsx[22m [34mx2[39m


[2m Test Files [22m [2mno tests[22m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 08:10:39
[2m   Duration [22m 0ms


[1m[7m[32m PASS [39m[27m[22m[32m Waiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x2[39m
[2K[1A[2K[G       [90mrerun x2[39m
[2K[1A[2K[G       [2m[90mrerun x2[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/db/schema/invoiceTemplates.schema.test.ts[22m [34mx1[39m


[2m Test Files [22m [2mno tests[22m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 08:15:37
[2m   Duration [22m 0ms


[1m[7m[32m PASS [39m[27m[22m[32m Waiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x1[39m
[2K[1A[2K[G       [90mrerun x1[39m
[2K[1A[2K[G       [2m[90mrerun x1[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/db/schema/invoiceTemplates.schema.test.ts[22m [34mx2[39m


[2m Test Files [22m [2mno tests[22m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 08:16:26
[2m   Duration [22m 0ms


[1m[7m[32m PASS [39m[27m[22m[32m Waiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x2[39m
[2K[1A[2K[G       [90mrerun x2[39m
[2K[1A[2K[G       [2m[90mrerun x2[39m[22m
[2K[1A[2K[G[3Jc
[7m[1m[34m RERUN [39m[22m[27m[2m src/components/wizards/CoaWizard.test.tsx[22m [34mx2[39m


[2m Test Files [22m [2mno tests[22m
[2m      Tests [22m [2mno tests[22m
[2m   Start at [22m 08:17:53
[2m   Duration [22m 0ms


[1m[7m[32m PASS [39m[27m[22m[32m Waiting for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
       [34mrerun x2[39m
[2K[1A[2K[G       [90mrerun x2[39m
[2K[1A[2K[G       [2m[90mrerun x2[39m[22m
[2K[1A[2K[G