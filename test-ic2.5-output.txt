
> graceful-books@0.1.0 test
> vitest charityDistribution.service.test.ts --run


[1m[46m RUN [49m[22m [36mv4.0.17 [39m[90mC:/Users/Admin/graceful_books[39m

[90mstdout[2m | src/services/admin/charityDistribution.service.test.ts[2m > [22m[2mCharityDistributionService[2m > [22m[2mmarkPaymentSent[2m > [22m[2mshould mark payment as sent
[22m[39mPayment sent: Khan Academy - $5 via ach by admin admin-1

[90mstderr[2m | src/services/admin/charityDistribution.service.test.ts[2m > [22m[2mCharityDistributionService[2m > [22m[2mmarkPaymentSent[2m > [22m[2mshould throw error if distribution not found
[22m[39mError marking payment as sent: Error: Distribution record not found
    at Module.markPaymentSent (C:/Users/Admin/graceful_books/src/services/admin/charityDistribution.service.ts:317:13)
[90m    at processTicksAndRejections (node:internal/process/task_queues:103:5)[39m

[90mstderr[2m | src/services/admin/charityDistribution.service.test.ts[2m > [22m[2mCharityDistributionService[2m > [22m[2mmarkPaymentSent[2m > [22m[2mshould throw error if status is not pending
[22m[39mError marking payment as sent: Error: Cannot mark payment as sent. Current status: sent
    at Module.markPaymentSent (C:/Users/Admin/graceful_books/src/services/admin/charityDistribution.service.ts:321:13)
[90m    at processTicksAndRejections (node:internal/process/task_queues:103:5)[39m

[90mstdout[2m | src/services/admin/charityDistribution.service.test.ts[2m > [22m[2mCharityDistributionService[2m > [22m[2mconfirmPayment[2m > [22m[2mshould confirm payment
[22m[39mPayment confirmed: Khan Academy - $5 confirmed by admin admin-1

[90mstderr[2m | src/services/admin/charityDistribution.service.test.ts[2m > [22m[2mCharityDistributionService[2m > [22m[2mconfirmPayment[2m > [22m[2mshould throw error if status is not sent
[22m[39mError confirming payment: Error: Cannot confirm payment. Current status: pending
    at Module.confirmPayment (C:/Users/Admin/graceful_books/src/services/admin/charityDistribution.service.ts:362:13)
[90m    at processTicksAndRejections (node:internal/process/task_queues:103:5)[39m

 [32mâœ“[39m src/services/admin/charityDistribution.service.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 44[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m16 passed[39m[22m[90m (16)[39m
[2m   Start at [22m 15:53:48
[2m   Duration [22m 7.22s[2m (transform 325ms, setup 2.43s, import 367ms, tests 44ms, environment 3.62s)[22m

